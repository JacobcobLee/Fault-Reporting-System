{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import Button from\"components/CustomButtons/Button.js\";import Modal from'react-bootstrap/Modal';import ModalHeader from'react-bootstrap/ModalHeader';import ModalTitle from'react-bootstrap/ModalTitle';import ModalBody from'react-bootstrap/ModalBody';import ModalFooter from'react-bootstrap/ModalFooter';import Table from\"components/Table/Table.js\";import axios from'axios';var qr=[];var array=[];function getQR(){axios.get(\"https://bchfrserver.herokuapp.com/api/v1/store\").then(function(response){//console.log(response.data);\nqr.push(response.data);array.push(qr[0]);//console.log(array);\n});}getQR();export default function ManageqrModal(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];//filter through all data instead of only 1\nvar filterArray=qr[0].filter(function(item){return Object.values(item).some(function(val){return String(val).toLowerCase().includes(search.toLowerCase());});});return/*#__PURE__*/React.createElement(Modal,Object.assign({},props,{size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,keyboard:false}),/*#__PURE__*/React.createElement(ModalHeader,{closeButton:true},/*#__PURE__*/React.createElement(ModalTitle,{id:\"contained-modal-title-vcenter\"},\"Manage QR Codes\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Search\",onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/React.createElement(Table,{tableHeaderColor:\"primary\",tableHead:[\"Store Name\",\"Store Code\",\"QR String\",\"\"],tableData:filterArray.map(function(array){return[array.name,array.code,array.qrstring,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(event){return window.location.href='/qr/editqrcode/'+array.code;},fullWidth:true,color:\"info\"},\"Edit\")];})})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:function onClick(e){return setSearch(e.value=\"\");}},\"Reset Filter\"),/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:props.onHide},\"Close\")));}","map":{"version":3,"sources":["C:/Users/jacob/Desktop/FYP YR3/dashboard/MASTER VERSION/Development Build/src/components/Modal/manageqrModal.js"],"names":["React","useState","Button","Modal","ModalHeader","ModalTitle","ModalBody","ModalFooter","Table","axios","qr","array","getQR","get","then","response","push","data","ManageqrModal","props","search","setSearch","filterArray","filter","item","Object","values","some","val","String","toLowerCase","includes","e","target","value","map","name","code","qrstring","event","window","location","href","onHide"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {useState} from 'react';\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport ModalHeader from 'react-bootstrap/ModalHeader';\r\nimport ModalTitle from 'react-bootstrap/ModalTitle';\r\nimport ModalBody from 'react-bootstrap/ModalBody';\r\nimport ModalFooter from 'react-bootstrap/ModalFooter';\r\nimport Table from \"components/Table/Table.js\";\r\nimport axios from 'axios';\r\n\r\nconst qr = [];\r\nconst array = [];\r\nfunction getQR(){\r\n  axios\r\n  .get(\"https://bchfrserver.herokuapp.com/api/v1/store\")\r\n  .then((response) => {\r\n    //console.log(response.data);\r\n      qr.push(response.data)\r\n      array.push(qr[0])\r\n      //console.log(array);\r\n  })\r\n}\r\ngetQR();\r\n\r\nexport default function ManageqrModal(props){\r\n  const [search, setSearch] = useState('')\r\n\r\n  //filter through all data instead of only 1\r\n   const filterArray = qr[0].filter(function(item){\r\n    return Object.values(item).some( val => \r\n        String(val).toLowerCase().includes(search.toLowerCase()) \r\n    )\r\n})\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n      keyboard={false}\r\n    >\r\n      <ModalHeader closeButton >\r\n        <ModalTitle id=\"contained-modal-title-vcenter\">\r\n          Manage QR Codes\r\n        </ModalTitle>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n      <input className=\"form-control\" type=\"text\" placeholder=\"Search\" onChange={ e => setSearch(e.target.value)}/>\r\n      <Table\r\n              tableHeaderColor=\"primary\"\r\n              tableHead={[\"Store Name\", \"Store Code\", \"QR String\", \"\"]}\r\n              tableData={\r\n                filterArray.map((array) => {\r\n                  return [array.name,array.code,array.qrstring,<Button onClick={event =>  window.location.href='/qr/editqrcode/'+array.code} fullWidth color=\"info\">Edit</Button>]\r\n              })\r\n              }\r\n            />\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"success\" onClick={e => setSearch(e.value = \"\")}>Reset Filter</Button>\r\n        <Button color=\"danger\" onClick={props.onHide}>Close</Button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}