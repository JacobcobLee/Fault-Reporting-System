{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{Fragment}from'react';import{useState}from'react';import Select from'react-select';import Button from\"components/CustomButtons/Button.js\";import Modal from'react-bootstrap/Modal';import ModalHeader from'react-bootstrap/ModalHeader';import ModalTitle from'react-bootstrap/ModalTitle';import ModalBody from'react-bootstrap/ModalBody';import ModalFooter from'react-bootstrap/ModalFooter';import Table from\"components/Table/Table.js\";import axios from'axios';var resolvedCases=[];var array=[];function getResolvedCases(){axios.get(\"http://bchserver.herokuapp.com/api/v1/faultresolved10\")//only take last 10 of resolved cases. the rest can view at analytics\n.then(function(response){try{resolvedCases.push(response.data);array.push(Object.values(resolvedCases[0]));array[0].sort(function(a,b){return a-b;}).reverse();//console.log(array[0]);\n}catch(error){console.log(error);}});}getResolvedCases();var storeOptions=[];function getStoreOptions(){axios.get(\"http://bchserver.herokuapp.com/api/v1/allstorename\").then(function(response){response.data.forEach(function(storeName){var object={value:storeName,label:storeName};storeOptions.push(object);});//console.log(storeOptions);\n}).catch(function(err){console.log(err);});}getStoreOptions();export default function ResolvedcaseModal(props){//To filter the table data using dropdown value\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var filterArray=array[0].filter(function(item){return item.storeName.toLowerCase().includes(search.toLowerCase());});return/*#__PURE__*/React.createElement(Modal,Object.assign({},props,{size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,backdrop:\"static\",keyboard:false}),/*#__PURE__*/React.createElement(ModalHeader,{closeButton:true},/*#__PURE__*/React.createElement(ModalTitle,{id:\"contained-modal-title-vcenter\"},\"Resolved Issues\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Store Location\")),/*#__PURE__*/React.createElement(Select,{className:\"basic-single\",classNamePrefix:\"select\",name:\"color\",options:storeOptions,onChange:function onChange(e){return setSearch(e.value);}})),/*#__PURE__*/React.createElement(Table,{tableHeaderColor:\"primary\",tableHead:[\"Reported on\",\"Fault type\",\"Store Location\",\"\"],tableData:filterArray.map(function(array){return[array.dateTime,array.problem.category,array.storeName,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(event){return window.location.href='/resolvedcases/view/'+array.uuid;},fullWidth:true,color:\"info\"},\"View\")];})})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:function onClick(e){return setSearch(e.value=\"\");}},\"Reset Filter\"),/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:props.onHide},\"Close\")));}//<Button onClick={event =>  window.location.href='/newcases/solve'} fullWidth color=\"info\">Solve</Button>","map":{"version":3,"sources":["C:/Users/jacob/Desktop/FYP YR3/dashboard/MASTER VERSION/Development Build/src/components/Modal/resolvedcaseModal.js"],"names":["React","Fragment","useState","Select","Button","Modal","ModalHeader","ModalTitle","ModalBody","ModalFooter","Table","axios","resolvedCases","array","getResolvedCases","get","then","response","push","data","Object","values","sort","a","b","reverse","error","console","log","storeOptions","getStoreOptions","forEach","storeName","object","value","label","catch","err","ResolvedcaseModal","props","search","setSearch","filterArray","filter","item","toLowerCase","includes","e","map","dateTime","problem","category","event","window","location","href","uuid","onHide"],"mappings":"4MAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAwB,OAAxB,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,2BAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,aAAa,CAAG,EAAtB,CACA,GAAMC,CAAAA,KAAK,CAAE,EAAb,CACA,QAASC,CAAAA,gBAAT,EAA2B,CACzBH,KAAK,CACJI,GADD,CACK,uDADL,CAC8D;AAD9D,CAECC,IAFD,CAEM,SAACC,QAAD,CAAc,CAClB,GAAG,CACHL,aAAa,CAACM,IAAd,CAAmBD,QAAQ,CAACE,IAA5B,EACAN,KAAK,CAACK,IAAN,CAAWE,MAAM,CAACC,MAAP,CAAcT,aAAa,CAAC,CAAD,CAA3B,CAAX,EACAC,KAAK,CAAC,CAAD,CAAL,CAASS,IAAT,CAAc,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAd,EAAd,EAA+BC,OAA/B,GACA;AACC,CACD,MAAMC,KAAN,CAAY,CACVC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CACJ,CAZC,EAaD,CACDZ,gBAAgB,GAEhB,GAAMe,CAAAA,YAAY,CAAG,EAArB,CACA,QAASC,CAAAA,eAAT,EAA0B,CACxBnB,KAAK,CACJI,GADD,CACK,oDADL,EAECC,IAFD,CAEM,SAACC,QAAD,CAAc,CAClBA,QAAQ,CAACE,IAAT,CAAcY,OAAd,CAAsB,SAAAC,SAAS,CAAI,CACjC,GAAIC,CAAAA,MAAM,CAAG,CAACC,KAAK,CAAEF,SAAR,CAAmBG,KAAK,CAAEH,SAA1B,CAAb,CACAH,YAAY,CAACX,IAAb,CAAkBe,MAAlB,EACH,CAHC,EAIH;AACA,CARC,EASCG,KATD,CASO,SAACC,GAAD,CAAS,CACdV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACD,CAXD,EAYD,CACDP,eAAe,GAGf,cAAe,SAASQ,CAAAA,iBAAT,CAA2BC,KAA3B,CAAiC,CAC9C;AAD8C,cAElBrC,QAAQ,CAAC,EAAD,CAFU,wCAEvCsC,MAFuC,eAE/BC,SAF+B,eAG9C,GAAMC,CAAAA,WAAW,CAAG7B,KAAK,CAAC,CAAD,CAAL,CAAS8B,MAAT,CAAgB,SAAAC,IAAI,CAAE,CACxC,MAAOA,CAAAA,IAAI,CAACZ,SAAL,CAAea,WAAf,GAA6BC,QAA7B,CAAsCN,MAAM,CAACK,WAAP,EAAtC,CAAP,CACD,CAFmB,CAApB,CAGA,mBACE,oBAAC,KAAD,kBACMN,KADN,EAEE,IAAI,CAAC,IAFP,CAGE,kBAAgB,+BAHlB,CAIE,QAAQ,KAJV,CAKE,QAAQ,CAAC,QALX,CAME,QAAQ,CAAE,KANZ,gBAQE,oBAAC,WAAD,EAAa,WAAW,KAAxB,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,+BAAf,oBADF,CARF,cAaE,oBAAC,SAAD,mBACA,oBAAC,QAAD,mBACE,0CAAG,8CAAH,CADF,cAEE,oBAAC,MAAD,EACE,SAAS,CAAC,cADZ,CAEE,eAAe,CAAC,QAFlB,CAGE,IAAI,CAAC,OAHP,CAIE,OAAO,CAAEV,YAJX,CAKE,QAAQ,CAAG,kBAAAkB,CAAC,QAAIN,CAAAA,SAAS,CAACM,CAAC,CAACb,KAAH,CAAb,EALd,EAFF,CADA,cAWA,oBAAC,KAAD,EACQ,gBAAgB,CAAC,SADzB,CAEQ,SAAS,CAAE,CAAC,aAAD,CAAgB,YAAhB,CAA8B,gBAA9B,CAAgD,EAAhD,CAFnB,CAGQ,SAAS,CACPQ,WAAW,CAACM,GAAZ,CAAgB,SAACnC,KAAD,CAAW,CACzB,MAAO,CAACA,KAAK,CAACoC,QAAP,CAAgBpC,KAAK,CAACqC,OAAN,CAAcC,QAA9B,CAAuCtC,KAAK,CAACmB,SAA7C,cAAuD,oBAAC,MAAD,EAAQ,OAAO,CAAE,iBAAAoB,KAAK,QAAKC,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,uBAAuB1C,KAAK,CAAC2C,IAAvD,EAAtB,CAAmF,SAAS,KAA5F,CAA6F,KAAK,CAAC,MAAnG,SAAvD,CAAP,CACD,CAFD,CAJV,EAXA,CAbF,cAkCE,oBAAC,WAAD,mBACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAE,iBAAAT,CAAC,QAAIN,CAAAA,SAAS,CAACM,CAAC,CAACb,KAAF,CAAU,EAAX,CAAb,EAAlC,iBADF,cAEE,oBAAC,MAAD,EAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAEK,KAAK,CAACkB,MAAtC,UAFF,CAlCF,CADF,CAyCD,CAED","sourcesContent":["import React from 'react';\r\nimport { Fragment} from 'react';\r\nimport {useState} from 'react';\r\nimport Select from 'react-select';\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport ModalHeader from 'react-bootstrap/ModalHeader';\r\nimport ModalTitle from 'react-bootstrap/ModalTitle';\r\nimport ModalBody from 'react-bootstrap/ModalBody';\r\nimport ModalFooter from 'react-bootstrap/ModalFooter';\r\nimport Table from \"components/Table/Table.js\";\r\nimport axios from 'axios';\r\n\r\n\r\nconst resolvedCases = [];\r\nconst array =[];\r\nfunction getResolvedCases(){\r\n  axios\r\n  .get(\"http://bchserver.herokuapp.com/api/v1/faultresolved10\") //only take last 10 of resolved cases. the rest can view at analytics\r\n  .then((response) => {\r\n    try{\r\n    resolvedCases.push(response.data)\r\n    array.push(Object.values(resolvedCases[0]))\r\n    array[0].sort((a, b) => a - b).reverse()\r\n    //console.log(array[0]);\r\n    }\r\n    catch(error){\r\n      console.log(error);\r\n    }\r\n})\r\n}\r\ngetResolvedCases();\r\n\r\nconst storeOptions = [];\r\nfunction getStoreOptions(){\r\n  axios\r\n  .get(\"http://bchserver.herokuapp.com/api/v1/allstorename\")\r\n  .then((response) => {\r\n    response.data.forEach(storeName => {\r\n      var object = {value: storeName, label: storeName}\r\n      storeOptions.push(object)\r\n  });\r\n //console.log(storeOptions);\r\n})\r\n  .catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\ngetStoreOptions();\r\n\r\n\r\nexport default function ResolvedcaseModal(props){\r\n  //To filter the table data using dropdown value\r\n  const [search, setSearch] = useState('')\r\n  const filterArray = array[0].filter(item=>{\r\n    return item.storeName.toLowerCase().includes(search.toLowerCase())\r\n  })\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n    >\r\n      <ModalHeader closeButton >\r\n        <ModalTitle id=\"contained-modal-title-vcenter\">\r\n          Resolved Issues\r\n        </ModalTitle>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n      <Fragment>\r\n        <p><b>Store Location</b></p>\r\n        <Select\r\n          className=\"basic-single\"\r\n          classNamePrefix=\"select\"\r\n          name=\"color\"\r\n          options={storeOptions}\r\n          onChange={ e => setSearch(e.value) }\r\n        />\r\n      </Fragment>\r\n      <Table\r\n              tableHeaderColor=\"primary\"\r\n              tableHead={[\"Reported on\", \"Fault type\", \"Store Location\", \"\"]}\r\n              tableData={\r\n                filterArray.map((array) => {\r\n                  return [array.dateTime,array.problem.category,array.storeName,<Button onClick={event =>  window.location.href='/resolvedcases/view/'+array.uuid} fullWidth color=\"info\">View</Button>]\r\n                })\r\n              }\r\n            /> \r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"success\" onClick={e => setSearch(e.value = \"\")}>Reset Filter</Button>\r\n        <Button color=\"danger\" onClick={props.onHide}>Close</Button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n//<Button onClick={event =>  window.location.href='/newcases/solve'} fullWidth color=\"info\">Solve</Button>"]},"metadata":{},"sourceType":"module"}