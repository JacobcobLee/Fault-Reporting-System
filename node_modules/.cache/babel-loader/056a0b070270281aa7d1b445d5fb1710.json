{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";// @material-ui/core components\nimport{makeStyles}from\"@material-ui/core/styles\";// core components\nimport Card from\"components/Card/Card.js\";import CardHeader from\"components/Card/CardHeader.js\";import CardBody from\"components/Card/CardBody.js\";import GridItem from\"components/Grid/GridItem.js\";import GridContainer from\"components/Grid/GridContainer.js\";import Button from\"components/CustomButtons/Button.js\";import CardIcon from\"components/Card/CardIcon.js\";import CropFree from\"@material-ui/icons/CropFree\";import Store from\"@material-ui/icons/Store\";import ReportProblem from\"@material-ui/icons/ReportProblem\";import SupervisorAccount from\"@material-ui/icons/SupervisorAccount\";import ManageQrModal from\"components/Modal/manageqrModal.js\";import ManageStoreModal from\"components/Modal/managestoreModal.js\";import ManageFaultModal from\"components/Modal/managefaultModal.js\";import ManageAccountModal from\"components/Modal/manageaccountModal.js\";import{auth,db}from'../../Firebase';import{useState}from'react';import styles from\"assets/jss/material-dashboard-react/views/dashboardStyle.js\";var useStyles=makeStyles(styles);export default function Functions(){var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),role=_useState2[0],setRole=_useState2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalShow=_React$useState2[0],setModalShow=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modalShow2=_React$useState4[0],setModalShow2=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),modalShow3=_React$useState6[0],setModalShow3=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),modalShow4=_React$useState8[0],setModalShow4=_React$useState8[1];function test(){auth.onAuthStateChanged(function(user){db.ref('users/'+user.uid).on('value',function(snapshot){var data=snapshot.val();console.log(data.role);setRole(data.role);});});}test();function displayAccountModal(){if(role===\"Admin\"){return/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{color:\"primary\",stats:true,icon:true},/*#__PURE__*/React.createElement(CardIcon,{color:\"primary\"},/*#__PURE__*/React.createElement(SupervisorAccount,null)),/*#__PURE__*/React.createElement(\"p\",{className:classes.cardCategory},\"Manage Accounts\"),/*#__PURE__*/React.createElement(\"h5\",{className:classes.cardTitle},\"View/Create Accounts\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow4(true);},fullWidth:true,color:\"success\"},\"View\"),/*#__PURE__*/React.createElement(ManageAccountModal,{show:modalShow4,onHide:function onHide(){return setModalShow4(false);}}))));}else{}}return/*#__PURE__*/React.createElement(GridContainer,null,/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{color:\"info\",stats:true,icon:true},/*#__PURE__*/React.createElement(CardIcon,{color:\"info\"},/*#__PURE__*/React.createElement(CropFree,null)),/*#__PURE__*/React.createElement(\"p\",{className:classes.cardCategory},\"Manage QR Codes\"),/*#__PURE__*/React.createElement(\"h5\",{className:classes.cardTitle},\"Edit QR here!\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow(true);},fullWidth:true,color:\"success\"},\"View\"),/*#__PURE__*/React.createElement(ManageQrModal,{show:modalShow,onHide:function onHide(){return setModalShow(false);}})))),/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{color:\"warning\",stats:true,icon:true},/*#__PURE__*/React.createElement(CardIcon,{color:\"warning\"},/*#__PURE__*/React.createElement(Store,null)),/*#__PURE__*/React.createElement(\"p\",{className:classes.cardCategory},\"Manage Stores\"),/*#__PURE__*/React.createElement(\"h5\",{className:classes.cardTitle},\"Add/Remove/Edit Stores here!\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow2(true);},fullWidth:true,color:\"success\"},\"View\"),/*#__PURE__*/React.createElement(ManageStoreModal,{show:modalShow2,onHide:function onHide(){return setModalShow2(false);}})))),/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{color:\"danger\",stats:true,icon:true},/*#__PURE__*/React.createElement(CardIcon,{color:\"danger\"},/*#__PURE__*/React.createElement(ReportProblem,null)),/*#__PURE__*/React.createElement(\"p\",{className:classes.cardCategory},\"Manage Faults\"),/*#__PURE__*/React.createElement(\"h5\",{className:classes.cardTitle},\"Add/Remove/Edit Faults here!\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow3(true);},fullWidth:true,color:\"success\"},\"View\"),/*#__PURE__*/React.createElement(ManageFaultModal,{show:modalShow3,onHide:function onHide(){return setModalShow3(false);}})))),displayAccountModal());}","map":{"version":3,"sources":["C:/Users/jacob/Desktop/FYP YR3/dashboard/MASTER VERSION/Development Build/src/views/Functions/Functions.js"],"names":["React","makeStyles","Card","CardHeader","CardBody","GridItem","GridContainer","Button","CardIcon","CropFree","Store","ReportProblem","SupervisorAccount","ManageQrModal","ManageStoreModal","ManageFaultModal","ManageAccountModal","auth","db","useState","styles","useStyles","Functions","classes","role","setRole","modalShow","setModalShow","modalShow2","setModalShow2","modalShow3","setModalShow3","modalShow4","setModalShow4","test","onAuthStateChanged","user","ref","uid","on","snapshot","data","val","console","log","displayAccountModal","cardCategory","cardTitle"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// core components\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport CardIcon from \"components/Card/CardIcon.js\";\r\nimport CropFree from \"@material-ui/icons/CropFree\";\r\nimport Store from \"@material-ui/icons/Store\";\r\nimport ReportProblem from \"@material-ui/icons/ReportProblem\";\r\nimport SupervisorAccount from \"@material-ui/icons/SupervisorAccount\";\r\nimport ManageQrModal from \"components/Modal/manageqrModal.js\";\r\nimport ManageStoreModal from \"components/Modal/managestoreModal.js\";\r\nimport ManageFaultModal from \"components/Modal/managefaultModal.js\";\r\nimport ManageAccountModal from \"components/Modal/manageaccountModal.js\";\r\nimport { auth, db } from '../../Firebase';\r\nimport { useState } from 'react';\r\n\r\n\r\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\n\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\n\r\nexport default function Functions() {\r\n  const classes = useStyles();\r\n  const [role, setRole] = useState(\"\");\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [modalShow2, setModalShow2] = React.useState(false);\r\n  const [modalShow3, setModalShow3] = React.useState(false);\r\n  const [modalShow4, setModalShow4] = React.useState(false);\r\n\r\n\r\n  function test() {\r\n    auth.onAuthStateChanged(function (user) {\r\n      db.ref('users/' + user.uid).on('value', snapshot => {\r\n        let data = snapshot.val();\r\n        console.log(data.role);\r\n        setRole(data.role);\r\n      })\r\n    })\r\n  }\r\n  test();\r\n\r\n  function displayAccountModal() {\r\n    if (role === \"Admin\") {\r\n      return (\r\n        <GridItem xs={12} sm={12} md={4}>\r\n          <Card>\r\n            <CardHeader color=\"primary\" stats icon>\r\n              <CardIcon color=\"primary\">\r\n                <SupervisorAccount />\r\n              </CardIcon>\r\n              <p className={classes.cardCategory}>Manage Accounts</p>\r\n              <h5 className={classes.cardTitle}>View/Create Accounts</h5>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <Button onClick={() => setModalShow4(true)} fullWidth color=\"success\">View</Button>\r\n              <ManageAccountModal\r\n                show={modalShow4}\r\n                onHide={() => setModalShow4(false)}\r\n              />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      )\r\n    }\r\n    else\r\n    {\r\n\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <GridContainer>\r\n      <GridItem xs={12} sm={12} md={4}>\r\n        <Card>\r\n          <CardHeader color=\"info\" stats icon>\r\n            <CardIcon color=\"info\">\r\n              <CropFree />\r\n            </CardIcon>\r\n            <p className={classes.cardCategory}>Manage QR Codes</p>\r\n            <h5 className={classes.cardTitle}>Edit QR here!</h5>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Button onClick={() => setModalShow(true)} fullWidth color=\"success\">View</Button>\r\n            <ManageQrModal\r\n              show={modalShow}\r\n              onHide={() => setModalShow(false)}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </GridItem>\r\n      <GridItem xs={12} sm={12} md={4}>\r\n        <Card>\r\n          <CardHeader color=\"warning\" stats icon>\r\n            <CardIcon color=\"warning\">\r\n              <Store />\r\n            </CardIcon>\r\n            <p className={classes.cardCategory}>Manage Stores</p>\r\n            <h5 className={classes.cardTitle}>Add/Remove/Edit Stores here!</h5>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Button onClick={() => setModalShow2(true)} fullWidth color=\"success\">View</Button>\r\n            <ManageStoreModal\r\n              show={modalShow2}\r\n              onHide={() => setModalShow2(false)}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </GridItem>\r\n      <GridItem xs={12} sm={12} md={4}>\r\n        <Card>\r\n          <CardHeader color=\"danger\" stats icon>\r\n            <CardIcon color=\"danger\">\r\n              <ReportProblem />\r\n            </CardIcon>\r\n            <p className={classes.cardCategory}>Manage Faults</p>\r\n            <h5 className={classes.cardTitle}>Add/Remove/Edit Faults here!</h5>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Button onClick={() => setModalShow3(true)} fullWidth color=\"success\">View</Button>\r\n            <ManageFaultModal\r\n              show={modalShow3}\r\n              onHide={() => setModalShow3(false)}\r\n            />\r\n          </CardBody>\r\n        </Card>\r\n      </GridItem>\r\n      {displayAccountModal()}\r\n    </GridContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}