{"ast":null,"code":"import _classCallCheck from\"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import SimpleBox from'../components/Login/SimpleBox';import InputField from'../components/Login/InputField';import FooterFormButtons from'../components/Login/FooterFormButtons';import{login,getUser}from'../actions/UserActions';import{connect}from'react-redux';import ErrorAlert from'../components/Login/ErrorAlert';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:'',password:'',error:''};return _this;}_createClass(Login,[{key:\"componentWillMount\",value:function componentWillMount(){if(this.props.user!==null){this.props.history.push('/');}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.user!==null){nextProps.history.push('/');}}},{key:\"submitLogin\",value:function submitLogin(event){var _this2=this;event.preventDefault();localStorage.setItem('user',this.state.email);// set user obj in the local storage to be this.state.email\nthis.props.login(this.state.email,this.state.password).catch(function(err){_this2.setState({error:err});});}},{key:\"renderBody\",value:function renderBody(){var _this3=this;var errStyle={borderColor:'red'};return/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){_this3.submitLogin(event);}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(InputField,{id:\"email\",type:\"text\",label:\"Email\",inputAction:function inputAction(event){return _this3.setState({email:event.target.value});},style:this.state.error?errStyle:null}),/*#__PURE__*/React.createElement(InputField,{id:\"password\",type:\"password\",label:\"Password\",inputAction:function inputAction(event){return _this3.setState({password:event.target.value});},style:this.state.error?errStyle:null}),this.state.error&&/*#__PURE__*/React.createElement(ErrorAlert,null,\"Your username/password is incorrect\"),/*#__PURE__*/React.createElement(FooterFormButtons,{submitLabel:\"Sign in\"})));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SimpleBox,{title:\"Sign in to Dashboard\",body:this.renderBody()}));}}]);return Login;}(Component);function mapStateToProps(state,ownProps){return{user:state.user};}export default connect(mapStateToProps,{login:login,getUser:getUser})(Login);","map":{"version":3,"sources":["D:/material-dashboard-react-master/src/containers/Login.js"],"names":["React","Component","SimpleBox","InputField","FooterFormButtons","login","getUser","connect","ErrorAlert","Login","props","state","email","password","error","user","history","push","nextProps","event","preventDefault","localStorage","setItem","catch","err","setState","errStyle","borderColor","submitLogin","target","value","renderBody","mapStateToProps","ownProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport SimpleBox from '../components/Login/SimpleBox';\r\nimport InputField from '../components/Login/InputField';\r\nimport FooterFormButtons from '../components/Login/FooterFormButtons';\r\nimport { login, getUser } from '../actions/UserActions';\r\nimport { connect } from 'react-redux';\r\nimport ErrorAlert from '../components/Login/ErrorAlert';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      error: ''\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this.props.user !== null) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n  \r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.user !== null) {\r\n      nextProps.history.push('/');\r\n    }\r\n  }\r\n\r\n\r\n  submitLogin(event) {\r\n    event.preventDefault();\r\n    localStorage.setItem('user', this.state.email);// set user obj in the local storage to be this.state.email\r\n    this.props.login(this.state.email, this.state.password).catch(err => {\r\n      this.setState({\r\n        error: err\r\n      });\r\n    });\r\n  }\r\n\r\n  renderBody() {\r\n    const errStyle = {\r\n      borderColor: 'red'\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={event => { this.submitLogin(event);}}>\r\n        <div>\r\n          <InputField id=\"email\" type=\"text\" label=\"Email\"\r\n                      inputAction={(event) => this.setState({ email: event.target.value })}\r\n                      style={this.state.error ? errStyle : null}\r\n          />\r\n          <InputField id=\"password\" type=\"password\" label=\"Password\"\r\n                      inputAction={(event) => this.setState({ password: event.target.value })}\r\n                      style={this.state.error ? errStyle : null}\r\n          />\r\n          {this.state.error && <ErrorAlert>Your username/password is incorrect</ErrorAlert>}\r\n          <FooterFormButtons submitLabel=\"Sign in\"/>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <SimpleBox title=\"Sign in to Dashboard\" body={this.renderBody()}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return { user: state.user };\r\n}\r\n\r\nexport default connect(mapStateToProps, { login, getUser })(Login);\r\n"]},"metadata":{},"sourceType":"module"}