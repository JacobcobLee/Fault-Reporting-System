{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';import'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';import'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';import'bootstrap/dist/css/bootstrap.min.css';import BootstrapTable from'react-bootstrap-table-next';import paginationFactory from'react-bootstrap-table2-paginator';import filterFactory,{textFilter}from'react-bootstrap-table2-filter';import axios from'axios';import Card from\"components/Card/Card.js\";import CardBody from\"components/Card/CardBody.js\";import CardHeader from\"components/Card/CardHeader.js\";import Button from\"components/CustomButtons/Button.js\";import GridItem from\"components/Grid/GridItem.js\";import GridContainer from\"components/Grid/GridContainer.js\";import ToolkitProvider from'react-bootstrap-table2-toolkit';export default function TableList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),customerfeedback=_useState2[0],setCustomerFeedback=_useState2[1];var getFeedbacksData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:9998/api/v1/feedback\").then(function(response){console.log(response.data);setCustomerFeedback(Object.values(response.data));});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getFeedbacksData(){return _ref.apply(this,arguments);};}();var columns=[//,filter: dateFilter()\n{dataField:\"date\",text:\"Submitted On\",filter:textFilter()},{dataField:\"location\",text:\"Store Location\",filter:textFilter()},{dataField:\"feedbackType\",text:\"Feedback Type\",filter:textFilter()},{dataField:\"standard\",text:\"Standard\",filter:textFilter()},{dataField:\"issue\",text:\"Issue\",filter:textFilter()},{dataField:\"rating\",text:\"Ratings\",filter:textFilter()},{dataField:\"staffname\",text:\"Staff Name\",filter:textFilter()},{dataField:\"custemail\",text:\"Customer Email\",filter:textFilter()},{dataField:\"custcontactno\",text:\"Customer Contact\",filter:textFilter()},{dataField:\"custname\",text:\"Customer Name\",filter:textFilter()}];useEffect(function(){getFeedbacksData();},[]);customerfeedback.sort(function(a,b){return a-b;}).reverse();var MyExportCSV=function MyExportCSV(props){var handleClick=function handleClick(){props.onExport();};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(GridContainer,null,/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:12},/*#__PURE__*/React.createElement(Button,{onClick:handleClick,fullWidth:true,color:\"info\"},\"Generate Excel Sheet\"))));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{color:\"primary\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Customer Feedback\"),/*#__PURE__*/React.createElement(\"p\",null,\"Feedbacks can be generated as excel sheet and downloaded\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(ToolkitProvider,{keyField:\"uuid\",data:customerfeedback,columns:columns,exportCSV:{exportAll:false,onlyExportFiltered:true}},function(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({filter:filterFactory(),keyField:\"uuid\",data:customerfeedback,columns:columns,pagination:paginationFactory(),filterPosition:\"top\"},props.baseProps)),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(MyExportCSV,props.csvProps));}))));}","map":{"version":3,"sources":["C:/Users/jacob/Desktop/FYP YR3/dashboard/MASTER VERSION/Development Build/src/views/TableList/TableList.js"],"names":["React","useState","useEffect","BootstrapTable","paginationFactory","filterFactory","textFilter","axios","Card","CardBody","CardHeader","Button","GridItem","GridContainer","ToolkitProvider","TableList","customerfeedback","setCustomerFeedback","getFeedbacksData","get","then","response","console","log","data","Object","values","columns","dataField","text","filter","sort","a","b","reverse","MyExportCSV","props","handleClick","onExport","exportAll","onlyExportFiltered","baseProps","csvProps"],"mappings":"imBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,gEAAP,CACA,MAAO,gFAAP,CACA,MAAO,0EAAP,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,CACA,MAAOC,CAAAA,aAAP,EAAwBC,UAAxB,KAA0C,+BAA1C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,yBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CAGA,cAAe,SAASC,CAAAA,SAAT,EAAqB,eACed,QAAQ,CAAC,EAAD,CADvB,wCACzBe,gBADyB,eACRC,mBADQ,eAEhC,GAAMC,CAAAA,gBAAgB,0FAAG,yKAEXX,CAAAA,KAAK,CACVY,GADK,CACD,uCADC,EAELC,IAFK,CAEA,SAACC,QAAD,CAAc,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAP,mBAAmB,CAACQ,MAAM,CAACC,MAAP,CAAcL,QAAQ,CAACG,IAAvB,CAAD,CAAnB,CACH,CALK,CAFW,sFAUjBF,OAAO,CAACC,GAAR,cAViB,mEAAH,kBAAhBL,CAAAA,gBAAgB,0CAAtB,CAcA,GAAMS,CAAAA,OAAO,CAAG,CAAC;AACb,CAACC,SAAS,CAAE,MAAZ,CAAoBC,IAAI,CAAC,cAAzB,CAAwCC,MAAM,CAAExB,UAAU,EAA1D,CADY,CAEZ,CAACsB,SAAS,CAAE,UAAZ,CAAwBC,IAAI,CAAC,gBAA7B,CAA8CC,MAAM,CAAExB,UAAU,EAAhE,CAFY,CAGZ,CAACsB,SAAS,CAAE,cAAZ,CAA4BC,IAAI,CAAC,eAAjC,CAAiDC,MAAM,CAAExB,UAAU,EAAnE,CAHY,CAIZ,CAACsB,SAAS,CAAE,UAAZ,CAAwBC,IAAI,CAAC,UAA7B,CAAwCC,MAAM,CAAExB,UAAU,EAA1D,CAJY,CAKZ,CAACsB,SAAS,CAAE,OAAZ,CAAqBC,IAAI,CAAC,OAA1B,CAAkCC,MAAM,CAAExB,UAAU,EAApD,CALY,CAMZ,CAACsB,SAAS,CAAE,QAAZ,CAAsBC,IAAI,CAAC,SAA3B,CAAqCC,MAAM,CAAExB,UAAU,EAAvD,CANY,CAOZ,CAACsB,SAAS,CAAE,WAAZ,CAAyBC,IAAI,CAAC,YAA9B,CAA2CC,MAAM,CAAExB,UAAU,EAA7D,CAPY,CAQZ,CAACsB,SAAS,CAAE,WAAZ,CAAyBC,IAAI,CAAC,gBAA9B,CAA+CC,MAAM,CAAExB,UAAU,EAAjE,CARY,CASZ,CAACsB,SAAS,CAAE,eAAZ,CAA6BC,IAAI,CAAC,kBAAlC,CAAqDC,MAAM,CAAExB,UAAU,EAAvE,CATY,CAUZ,CAACsB,SAAS,CAAE,UAAZ,CAAwBC,IAAI,CAAC,eAA7B,CAA6CC,MAAM,CAAExB,UAAU,EAA/D,CAVY,CAAhB,CAaAJ,SAAS,CAAC,UAAM,CACZgB,gBAAgB,GACnB,CAFQ,CAEP,EAFO,CAAT,CAIAF,gBAAgB,CAACe,IAAjB,CAAsB,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAd,EAAtB,EAAuCC,OAAvC,GAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3B,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBD,KAAK,CAACE,QAAN,GACD,CAFD,CAGA,mBACE,4CACG,oBAAC,aAAD,mBACC,oBAAC,QAAD,EAAU,EAAE,CAAE,EAAd,CAAkB,EAAE,CAAE,EAAtB,CAA0B,EAAE,CAAE,EAA9B,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAED,WAAjB,CAA8B,SAAS,KAAvC,CAAwC,KAAK,CAAC,MAA9C,yBADJ,CADD,CADH,CADF,CASD,CAbH,CAeA,mBACI,4CACA,oBAAC,IAAD,mBACA,oBAAC,UAAD,EAAY,KAAK,CAAC,SAAlB,eACA,kDADA,cAEE,wFAFF,CADA,cAOA,oBAAC,QAAD,mBACA,oBAAC,eAAD,EACE,QAAQ,CAAC,MADX,CAEE,IAAI,CAAGrB,gBAFT,CAGE,OAAO,CAAGW,OAHZ,CAIE,SAAS,CAAI,CACXY,SAAS,CAAC,KADC,CAEXC,kBAAkB,CAAC,IAFR,CAJf,EAUA,SAAAJ,KAAK,qBACH,4CACE,oBAAC,cAAD,gBACA,MAAM,CAAE/B,aAAa,EADrB,CAEA,QAAQ,CAAC,MAFT,CAGA,IAAI,CAAEW,gBAHN,CAIA,OAAO,CAAEW,OAJT,CAKA,UAAU,CAAEvB,iBAAiB,EAL7B,CAMA,cAAc,CAAC,KANf,EAOKgC,KAAK,CAACK,SAPX,EADF,cASE,8BATF,cAUE,oBAAC,WAAD,CAAkBL,KAAK,CAACM,QAAxB,CAVF,CADG,EAVL,CADA,CAPA,CADA,CADJ,CAwCH","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\r\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\r\nimport axios from 'axios';\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit';\r\n\r\n\r\nexport default function TableList() {\r\n    const [customerfeedback,setCustomerFeedback] = useState([]);\r\n    const getFeedbacksData = async ()=> {\r\n        try{\r\n            await axios\r\n            .get(\"http://localhost:9998/api/v1/feedback\")\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                setCustomerFeedback(Object.values(response.data));\r\n            })\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    const columns = [//,filter: dateFilter()\r\n        {dataField: \"date\", text:\"Submitted On\",filter: textFilter()},\r\n        {dataField: \"location\", text:\"Store Location\",filter: textFilter()},\r\n        {dataField: \"feedbackType\", text:\"Feedback Type\",filter: textFilter()},\r\n        {dataField: \"standard\", text:\"Standard\",filter: textFilter()},\r\n        {dataField: \"issue\", text:\"Issue\",filter: textFilter()},\r\n        {dataField: \"rating\", text:\"Ratings\",filter: textFilter()},\r\n        {dataField: \"staffname\", text:\"Staff Name\",filter: textFilter()},\r\n        {dataField: \"custemail\", text:\"Customer Email\",filter: textFilter()},\r\n        {dataField: \"custcontactno\", text:\"Customer Contact\",filter: textFilter()},\r\n        {dataField: \"custname\", text:\"Customer Name\",filter: textFilter()},\r\n    ]\r\n\r\n    useEffect(() => {\r\n        getFeedbacksData();\r\n    },[])\r\n\r\n    customerfeedback.sort((a, b) => a - b).reverse()\r\n\r\n    const MyExportCSV = (props) => {\r\n        const handleClick = () => {\r\n          props.onExport();\r\n        };\r\n        return (\r\n          <div>\r\n             <GridContainer>\r\n              <GridItem xs={12} sm={12} md={12}>\r\n                  <Button onClick={handleClick} fullWidth color=\"info\">Generate Excel Sheet</Button>\r\n              </GridItem>\r\n          </GridContainer>\r\n          </div>\r\n        );\r\n      };\r\n\r\n    return (\r\n        <div>\r\n        <Card>\r\n        <CardHeader color=\"primary\">\r\n        <h4>Customer Feedback</h4>\r\n          <p>\r\n            Feedbacks can be generated as excel sheet and downloaded\r\n          </p>\r\n        </CardHeader>\r\n        <CardBody>\r\n        <ToolkitProvider\r\n          keyField=\"uuid\"\r\n          data={ customerfeedback }\r\n          columns={ columns }\r\n          exportCSV ={ {\r\n            exportAll:false,\r\n            onlyExportFiltered:true\r\n          } }\r\n        >\r\n        {\r\n        props => (\r\n          <div>\r\n            <BootstrapTable\r\n            filter={filterFactory()}\r\n            keyField=\"uuid\"\r\n            data={customerfeedback}\r\n            columns={columns}\r\n            pagination={paginationFactory()}\r\n            filterPosition=\"top\"\r\n            { ...props.baseProps } />\r\n            <hr />\r\n            <MyExportCSV { ...props.csvProps } />\r\n          </div>\r\n        )\r\n      }\r\n    </ToolkitProvider>\r\n        </CardBody>\r\n        </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}