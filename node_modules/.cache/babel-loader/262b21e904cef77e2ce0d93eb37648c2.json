{"ast":null,"code":"import _createForOfIteratorHelper from \"D:\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nvar _jsxFileName = \"D:\\\\material-dashboard-react-master\\\\src\\\\views\\\\Analytics\\\\Analytics.js\";\nimport React from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport { Container, List } from \"semantic-ui-react\";\nimport Dropdown from \"components/DropdownAna/dropdown.js\";\nimport axios from 'axios';\nimport { Fragment } from 'react';\nvar newCases = [];\nvar array = [];\n\nfunction getNewCases() {\n  axios.get(\"http://localhost:8080/api/v1/fault\").then(function (response) {\n    newCases.push(response.data);\n    array.push(Object.values(newCases[0]));\n    console.log(array);\n    var data = array[0].map(function (row) {\n      return {\n        Comments: row.comments,\n        DateTime: row.dateTime,\n        Description: row.description,\n        Category: row.problem.category,\n        StaffName: row.staffName,\n        StoreName: row.storeName\n      };\n    });\n    console.log('sadas'); //console.log(data);\n\n    var csvRows = []; //get the headers\n\n    var headers = Object.keys(data[0]);\n    csvRows.push(headers.join(',')); //loop over rows\n\n    var _iterator = _createForOfIteratorHelper(data),\n        _step;\n\n    try {\n      var _loop = function _loop() {\n        var row = _step.value;\n        var values = headers.map(function (header) {\n          return row[header];\n        });\n        csvRows.push(values.join(','));\n      };\n\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    var newdata = csvRows.map(function (e) {\n      return e;\n    }).join('\\n'); //form escaped comma seperated values\n    //download(csvData);\n\n    console.log(newdata); //download(newdata);\n\n    return newdata;\n  });\n}\n\nvar download = function download(data) {\n  var blob = new Blob([data], {\n    type: 'text/csv'\n  });\n  var url = window.URL.createObjectURL(blob);\n  var a = document.createElement('a');\n  a.setAttribute('hidden', '');\n  a.setAttribute('href', url);\n  a.setAttribute('download', 'download.csv');\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n};\n\nexport default function Analytics() {\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, \"Generate Excel Sheet\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: download(getNewCases),\n    fullWidth: true,\n    color: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, \"Generate Excel Sheet\"));\n}","map":{"version":3,"sources":["D:/material-dashboard-react-master/src/views/Analytics/Analytics.js"],"names":["React","makeStyles","InputLabel","GridItem","GridContainer","CustomInput","Button","Card","CardHeader","CardAvatar","CardBody","CardFooter","Container","List","Dropdown","axios","Fragment","newCases","array","getNewCases","get","then","response","push","data","Object","values","console","log","map","row","Comments","comments","DateTime","dateTime","Description","description","Category","problem","category","StaffName","staffName","StoreName","storeName","csvRows","headers","keys","join","header","newdata","e","download","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","setAttribute","body","appendChild","click","removeChild","Analytics"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,UAAP,MAAuB,8BAAvB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,mBAAhC;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AAEA,IAAMC,QAAQ,GAAC,EAAf;AACA,IAAMC,KAAK,GAAC,EAAZ;;AACA,SAASC,WAAT,GAAsB;AACpBJ,EAAAA,KAAK,CACJK,GADD,CACK,oCADL,EAECC,IAFD,CAEM,UAACC,QAAD,EAAc;AAClBL,IAAAA,QAAQ,CAACM,IAAT,CAAcD,QAAQ,CAACE,IAAvB;AACAN,IAAAA,KAAK,CAACK,IAAN,CAAWE,MAAM,CAACC,MAAP,CAAcT,QAAQ,CAAC,CAAD,CAAtB,CAAX;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AAEA,QAAMM,IAAI,GAAGN,KAAK,CAAC,CAAD,CAAL,CAASW,GAAT,CAAa,UAAAC,GAAG;AAAA,aAAK;AAChCC,QAAAA,QAAQ,EAAED,GAAG,CAACE,QADkB;AAEhCC,QAAAA,QAAQ,EAAEH,GAAG,CAACI,QAFkB;AAGhCC,QAAAA,WAAW,EAAEL,GAAG,CAACM,WAHe;AAIhCC,QAAAA,QAAQ,EAAEP,GAAG,CAACQ,OAAJ,CAAYC,QAJU;AAKhCC,QAAAA,SAAS,EAAEV,GAAG,CAACW,SALiB;AAMhCC,QAAAA,SAAS,EAAEZ,GAAG,CAACa;AANiB,OAAL;AAAA,KAAhB,CAAb;AAQAhB,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAbkB,CAclB;;AAEA,QAAMgB,OAAO,GAAG,EAAhB,CAhBkB,CAkBpB;;AACA,QAAMC,OAAO,GAAGpB,MAAM,CAACqB,IAAP,CAAYtB,IAAI,CAAC,CAAD,CAAhB,CAAhB;AAEAoB,IAAAA,OAAO,CAACrB,IAAR,CAAasB,OAAO,CAACE,IAAR,CAAa,GAAb,CAAb,EArBoB,CAuBpB;;AAvBoB,+CAwBFvB,IAxBE;AAAA;;AAAA;AAAA;AAAA,YAwBTM,GAxBS;AAyBhB,YAAMJ,MAAM,GAAGmB,OAAO,CAAChB,GAAR,CAAY,UAAAmB,MAAM,EAAG;AAEhC,iBAAOlB,GAAG,CAACkB,MAAD,CAAV;AACH,SAHc,CAAf;AAIAJ,QAAAA,OAAO,CAACrB,IAAR,CAAaG,MAAM,CAACqB,IAAP,CAAY,GAAZ,CAAb;AA7BgB;;AAwBpB,0DAAuB;AAAA;AAMtB;AA9BmB;AAAA;AAAA;AAAA;AAAA;;AAgCpB,QAAME,OAAO,GAAGL,OAAO,CAACf,GAAR,CAAY,UAAAqB,CAAC;AAAA,aAAIA,CAAJ;AAAA,KAAb,EAAoBH,IAApB,CAAyB,IAAzB,CAAhB,CAhCoB,CAmCpB;AACA;;AACApB,IAAAA,OAAO,CAACC,GAAR,CAAYqB,OAAZ,EArCoB,CAsCpB;;AACA,WAAOA,OAAP;AACD,GA1CC;AA2CD;;AAID,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAS3B,IAAT,EAAc;AAC7B,MAAM4B,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAC7B,IAAD,CAAT,EAAiB;AAAC8B,IAAAA,IAAI,EAAC;AAAN,GAAjB,CAAb;AACA,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BN,IAA3B,CAAZ;AACA,MAAMO,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,EAAAA,CAAC,CAACG,YAAF,CAAe,QAAf,EAAyB,EAAzB;AACAH,EAAAA,CAAC,CAACG,YAAF,CAAe,MAAf,EAAsBP,GAAtB;AACAI,EAAAA,CAAC,CAACG,YAAF,CAAe,UAAf,EAA0B,cAA1B;AACAF,EAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,CAA1B;AACAA,EAAAA,CAAC,CAACM,KAAF;AACAL,EAAAA,QAAQ,CAACG,IAAT,CAAcG,WAAd,CAA0BP,CAA1B;AACD,CAVD;;AAaA,eAAe,SAASQ,SAAT,GAAqB;AAClC,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADA,eAEC,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEhB,QAAQ,CAAChC,WAAD,CAAzB;AAAwC,IAAA,SAAS,MAAjD;AAAkD,IAAA,KAAK,EAAC,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFD,CADF;AAMD","sourcesContent":["import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n// core components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport { Container, List } from \"semantic-ui-react\";\nimport Dropdown from \"components/DropdownAna/dropdown.js\";\nimport axios from 'axios';\nimport {Fragment} from 'react';\n\nconst newCases=[];\nconst array=[];\nfunction getNewCases(){\n  axios\n  .get(\"http://localhost:8080/api/v1/fault\")\n  .then((response) => {\n    newCases.push(response.data)\n    array.push(Object.values(newCases[0]))\n    console.log(array);\n\n    const data = array[0].map(row => ({\n      Comments: row.comments,\n      DateTime: row.dateTime,\n      Description: row.description,\n      Category: row.problem.category,\n      StaffName: row.staffName,\n      StoreName: row.storeName\n    }));\n    console.log('sadas');\n    //console.log(data);\n\n    const csvRows = [];\n  \n  //get the headers\n  const headers = Object.keys(data[0]);\n\n  csvRows.push(headers.join(','));\n\n  //loop over rows\n  for (const row of data){\n      const values = headers.map(header =>{\n          \n          return row[header];\n      });\n      csvRows.push(values.join(','));\n  }\n\n  const newdata = csvRows.map(e => e).join('\\n');\n  \n\n  //form escaped comma seperated values\n  //download(csvData);\n  console.log(newdata);\n  //download(newdata);\n  return newdata;\n})\n}\n\n\n\nconst download = function(data){\n  const blob = new Blob([data], {type:'text/csv'});\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.setAttribute('hidden', '');\n  a.setAttribute('href',url);\n  a.setAttribute('download','download.csv');\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n};\n\n\nexport default function Analytics() {\n  return (\n    <Fragment>\n    <p>Generate Excel Sheet</p>\n     <Button onClick={download(getNewCases)} fullWidth color=\"info\">Generate Excel Sheet</Button>\n  </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}