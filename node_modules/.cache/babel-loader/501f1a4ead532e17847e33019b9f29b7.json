{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\jacob\\\\Desktop\\\\FYP YR3\\\\dashboard\\\\MASTER VERSION\\\\Development Build\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";// react plugin for creating charts\nimport ChartistGraph from\"react-chartist\";// @material-ui/core\nimport{makeStyles}from\"@material-ui/core/styles\";// core components\nimport GridItem from\"components/Grid/GridItem.js\";import GridContainer from\"components/Grid/GridContainer.js\";import Card from\"components/Card/Card.js\";import CardHeader from\"components/Card/CardHeader.js\";import CardBody from\"components/Card/CardBody.js\";import Button from\"components/CustomButtons/Button.js\";import NewCaseModal from\"components/Modal/newcaseModal.js\";import ResolvedCaseModal from\"components/Modal/resolvedcaseModal.js\";import PendingCaseModal from\"components/Modal/pendingcaseModal.js\";import\"bootstrap/dist/css/bootstrap.min.css\";import styles from\"assets/jss/material-dashboard-react/views/dashboardStyle.js\";import axios from'axios';import{useState}from'react';var useStyles=makeStyles(styles);var delays2=80,durations2=500;export default function Dashboard(){//CASES REPORTED\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),casescount=_useState2[0],setCasesCount=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),ytdcasescount=_useState4[0],setYtdCasesCount=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),thedaybeforeytdcasescount=_useState6[0],setTheDayBeforeYtdCasesCount=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),complimentcount=_useState8[0],setComplimentCount=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),complaintcount=_useState10[0],setComplaintCount=_useState10[1];//for today date\nvar array=[];var array2=[];var test;function getcasestodayChart(){axios.get(\"https://bchserver.herokuapp.com/api/v1/casestodaychart\").then(function(response){array.push(Object.keys(response.data));array2.push(array[0].length);test=array2.toString();//console.log(array2);\nsetCasesCount(test);});}getcasestodayChart();//for ytd date\nvar ytdarray=[];var ytdarray2=[];var ytdtest;function getcasesytdChart(){axios.get(\"https://bchserver.herokuapp.com/api/v1/casesyesterdaychart\").then(function(response){ytdarray.push(Object.keys(response.data));ytdarray2.push(ytdarray[0].length);ytdtest=ytdarray2.toString();//console.log(ytdarray2);\nsetYtdCasesCount(ytdtest);});}getcasesytdChart();//for the day before ytd date\nvar thedaybeforeytdarray=[];var thedaybeforeytdarray2=[];var thedaybeforeytdtest;function getcasesthedaybeforeytdChart(){axios.get(\"https://bchserver.herokuapp.com/api/v1/casesthedaybeforeytdchart\").then(function(response){thedaybeforeytdarray.push(Object.keys(response.data));thedaybeforeytdarray2.push(thedaybeforeytdarray[0].length);thedaybeforeytdtest=thedaybeforeytdarray2.toString();//console.log(thedaybeforeytdarray2);\nsetTheDayBeforeYtdCasesCount(thedaybeforeytdtest);});}getcasesthedaybeforeytdChart();//yesterday,the day before yesterday\nvar minusonedate=new Date().getDate()-1;var minustwodate=minusonedate-1;var month=new Date().getMonth()+1;var year=new Date().getFullYear();var yesterdayDate=minusonedate+'/'+month+'/'+year;var thedaybeforeDate=minustwodate+'/'+month+'/'+year;var newcasesChart={data:{labels:[thedaybeforeDate,yesterdayDate,\"Cases reported today\"],series:[[thedaybeforeytdcasescount,ytdcasescount,casescount]]},options:{axisX:{showGrid:false},low:0,high:8,chartPadding:{top:0,right:5,bottom:0,left:0}},responsiveOptions:[[\"screen and (max-width: 640px)\",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function labelInterpolationFnc(value){return value[0];}}}]],animation:{draw:function draw(data){if(data.type===\"bar\"){data.element.animate({opacity:{begin:(data.index+1)*delays2,dur:durations2,from:0,to:1,easing:\"ease\"}});}}}};//CUSTOMER FEEDBACK\n//for compliment feedback\nvar feedbackcomplimentarray=[];var feedbackcomplimentarray2=[];var feedbackcomplimenttest;function getcomplimentChart(){axios.get(\"https://bchserver.herokuapp.com/api/v1/feedbackcomplimentchart\").then(function(response){//console.log(response.data);\nfeedbackcomplimentarray.push(Object.keys(response.data));feedbackcomplimentarray2.push(feedbackcomplimentarray[0].length);feedbackcomplimenttest=feedbackcomplimentarray2.toString();setComplimentCount(feedbackcomplimenttest);});}getcomplimentChart();//for complaint feedback\nvar feedbackcomplaintarray=[];var feedbackcomplaintarray2=[];var feedbackcomplainttest;function getcomplaintChart(){axios.get(\"https://bchserver.herokuapp.com/api/v1/feedbackcomplaintchart\").then(function(response){//console.log(response.data);\nfeedbackcomplaintarray.push(Object.keys(response.data));feedbackcomplaintarray2.push(feedbackcomplaintarray[0].length);feedbackcomplainttest=feedbackcomplaintarray2.toString();setComplaintCount(feedbackcomplainttest);});}getcomplaintChart();var customerfeedbackChart={data:{labels:[\"Compliment\",\"Feedback\"],series:[[complimentcount,complaintcount]]},options:{axisY:{onlyInteger:false,showGrid:false,offset:70},axisX:{onlyInteger:true},low:0,high:10,seriesBarDistance:10,reverseData:true,horizontalBars:true},responsiveOptions:[[\"screen and (max-width: 640px)\",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function labelInterpolationFnc(value){return value[0];}}}]],animation:{draw:function draw(data){if(data.type===\"bar\"){data.element.animate({opacity:{begin:(data.index+1)*delays2,dur:durations2,from:0,to:1,easing:\"ease\"}});}}}};var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalShow=_React$useState2[0],setModalShow=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modalShow2=_React$useState4[0],setModalShow2=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),modalShow3=_React$useState6[0],setModalShow3=_React$useState6[1];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(GridContainer,null,/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:6},/*#__PURE__*/React.createElement(Card,{chart:true},/*#__PURE__*/React.createElement(CardHeader,{color:\"success\"},/*#__PURE__*/React.createElement(ChartistGraph,{className:\"ct-chart\",data:newcasesChart.data,type:\"Bar\",options:newcasesChart.options,responsiveOptions:newcasesChart.responsiveOptions,listener:newcasesChart.animation})),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h4\",{className:classes.cardTitle},\"Cases Reported\"),/*#__PURE__*/React.createElement(\"p\",{className:classes.cardCategory},\"Compare Cases Reported for Today and past 2 days\")))),/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:6},/*#__PURE__*/React.createElement(Card,{chart:true},/*#__PURE__*/React.createElement(CardHeader,{color:\"primary\"},/*#__PURE__*/React.createElement(ChartistGraph,{className:\"ct-chart\",data:customerfeedbackChart.data,type:\"Bar\",responsiveOptions:customerfeedbackChart.responsiveOptions,options:customerfeedbackChart.options,listener:customerfeedbackChart.animation})),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h4\",{className:classes.cardTitle},\"Customer Feedback\"),/*#__PURE__*/React.createElement(\"p\",{className:classes.cardCategory},\"Standard obtained through Customer Feedbacks Today\"))))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(GridContainer,null,/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow(true);},fullWidth:true,color:\"danger\"},\"New Cases Reported\"),/*#__PURE__*/React.createElement(NewCaseModal,{show:modalShow,onHide:function onHide(){return setModalShow(false);}})),/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow2(true);},fullWidth:true,color:\"warning\"},\"Pending Cases\"),/*#__PURE__*/React.createElement(PendingCaseModal,{show:modalShow2,onHide:function onHide(){return setModalShow2(false);}})),/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setModalShow3(true);},fullWidth:true,color:\"success\"},\"Resolved Cases\"),/*#__PURE__*/React.createElement(ResolvedCaseModal,{show:modalShow3,onHide:function onHide(){return setModalShow3(false);}}))));}","map":{"version":3,"sources":["C:/Users/jacob/Desktop/FYP YR3/dashboard/MASTER VERSION/Development Build/src/views/Dashboard/Dashboard.js"],"names":["React","ChartistGraph","makeStyles","GridItem","GridContainer","Card","CardHeader","CardBody","Button","NewCaseModal","ResolvedCaseModal","PendingCaseModal","styles","axios","useState","useStyles","delays2","durations2","Dashboard","casescount","setCasesCount","ytdcasescount","setYtdCasesCount","thedaybeforeytdcasescount","setTheDayBeforeYtdCasesCount","complimentcount","setComplimentCount","complaintcount","setComplaintCount","array","array2","test","getcasestodayChart","get","then","response","push","Object","keys","data","length","toString","ytdarray","ytdarray2","ytdtest","getcasesytdChart","thedaybeforeytdarray","thedaybeforeytdarray2","thedaybeforeytdtest","getcasesthedaybeforeytdChart","minusonedate","Date","getDate","minustwodate","month","getMonth","year","getFullYear","yesterdayDate","thedaybeforeDate","newcasesChart","labels","series","options","axisX","showGrid","low","high","chartPadding","top","right","bottom","left","responsiveOptions","seriesBarDistance","labelInterpolationFnc","value","animation","draw","type","element","animate","opacity","begin","index","dur","from","to","easing","feedbackcomplimentarray","feedbackcomplimentarray2","feedbackcomplimenttest","getcomplimentChart","feedbackcomplaintarray","feedbackcomplaintarray2","feedbackcomplainttest","getcomplaintChart","customerfeedbackChart","axisY","onlyInteger","offset","reverseData","horizontalBars","classes","modalShow","setModalShow","modalShow2","setModalShow2","modalShow3","setModalShow3","cardTitle","cardCategory"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n// react plugin for creating charts\r\nimport ChartistGraph from \"react-chartist\";\r\n// @material-ui/core\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport NewCaseModal from \"components/Modal/newcaseModal.js\";\r\nimport ResolvedCaseModal from \"components/Modal/resolvedcaseModal.js\";\r\nimport PendingCaseModal from \"components/Modal/pendingcaseModal.js\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\nimport axios from 'axios';\r\nimport {useState} from 'react';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nvar delays2 = 80,\r\n  durations2 = 500;\r\n\r\n   \r\n\r\n\r\n\r\nexport default function Dashboard() {\r\n\r\n//CASES REPORTED\r\nconst [casescount,setCasesCount] = useState()\r\nconst [ytdcasescount,setYtdCasesCount] = useState()\r\nconst [thedaybeforeytdcasescount,setTheDayBeforeYtdCasesCount] = useState()\r\nconst [complimentcount,setComplimentCount] = useState()\r\nconst [complaintcount,setComplaintCount] = useState()\r\n\r\n\r\n\r\n//for today date\r\nconst array = [];\r\nconst array2 = [];\r\nlet test;\r\nfunction getcasestodayChart(){\r\n  axios\r\n  .get(\"https://bchserver.herokuapp.com/api/v1/casestodaychart\")\r\n  .then((response) => {\r\n    array.push(Object.keys(response.data))\r\n    array2.push(array[0].length)\r\n    test = array2.toString();\r\n    //console.log(array2);\r\n    setCasesCount(test)\r\n  })\r\n}\r\n\r\ngetcasestodayChart();\r\n\r\n//for ytd date\r\nconst ytdarray = [];\r\nconst ytdarray2 = [];\r\nlet ytdtest;\r\nfunction getcasesytdChart(){\r\n  axios\r\n  .get(\"https://bchserver.herokuapp.com/api/v1/casesyesterdaychart\")\r\n  .then((response) => {\r\n    ytdarray.push(Object.keys(response.data))\r\n    ytdarray2.push(ytdarray[0].length)\r\n    ytdtest = ytdarray2.toString();\r\n    //console.log(ytdarray2);\r\n    setYtdCasesCount(ytdtest)\r\n  })\r\n}\r\n\r\ngetcasesytdChart();\r\n\r\n//for the day before ytd date\r\nconst thedaybeforeytdarray = [];\r\nconst thedaybeforeytdarray2 = [];\r\nlet thedaybeforeytdtest;\r\nfunction getcasesthedaybeforeytdChart(){\r\n  axios\r\n  .get(\"https://bchserver.herokuapp.com/api/v1/casesthedaybeforeytdchart\")\r\n  .then((response) => {\r\n    thedaybeforeytdarray.push(Object.keys(response.data))\r\n    thedaybeforeytdarray2.push(thedaybeforeytdarray[0].length)\r\n    thedaybeforeytdtest = thedaybeforeytdarray2.toString();\r\n    //console.log(thedaybeforeytdarray2);\r\n    setTheDayBeforeYtdCasesCount(thedaybeforeytdtest)\r\n  })\r\n}\r\n\r\ngetcasesthedaybeforeytdChart();\r\n\r\n\r\n\r\n//yesterday,the day before yesterday\r\nvar minusonedate = new Date().getDate() -1;\r\nvar minustwodate = minusonedate -1;\r\nvar month = new Date().getMonth() + 1;\r\nvar year = new Date().getFullYear();\r\nvar yesterdayDate = minusonedate + '/' + month + '/' + year ;\r\nvar thedaybeforeDate = minustwodate + '/' + month + '/' + year ;\r\n\r\nconst newcasesChart = {\r\n  data: {\r\n    labels: [thedaybeforeDate,yesterdayDate,\"Cases reported today\"]\r\n\r\n    \r\n    ,\r\n    series: [[thedaybeforeytdcasescount,ytdcasescount,casescount]]\r\n      \r\n    \r\n  },\r\n  options: {\r\n    axisX: {\r\n      showGrid: false\r\n    },\r\n    low: 0,\r\n    high: 8,\r\n    chartPadding: {\r\n      top: 0,\r\n      right: 5,\r\n      bottom: 0,\r\n      left: 0\r\n    }\r\n  },\r\n  responsiveOptions: [\r\n    [\r\n      \"screen and (max-width: 640px)\",\r\n      {\r\n        seriesBarDistance: 5,\r\n        axisX: {\r\n          labelInterpolationFnc: function(value) {\r\n            return value[0];\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  animation: {\r\n    draw: function(data) {\r\n      if (data.type === \"bar\") {\r\n        data.element.animate({\r\n          opacity: {\r\n            begin: (data.index + 1) * delays2,\r\n            dur: durations2,\r\n            from: 0,\r\n            to: 1,\r\n            easing: \"ease\"\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n\r\n//CUSTOMER FEEDBACK\r\n\r\n//for compliment feedback\r\nconst feedbackcomplimentarray = [];\r\nconst feedbackcomplimentarray2 = [];\r\nlet feedbackcomplimenttest;\r\nfunction getcomplimentChart(){\r\n  axios\r\n  .get(\"https://bchserver.herokuapp.com/api/v1/feedbackcomplimentchart\")\r\n  .then((response) => {\r\n    //console.log(response.data);\r\n    feedbackcomplimentarray.push(Object.keys(response.data))\r\n    feedbackcomplimentarray2.push(feedbackcomplimentarray[0].length)\r\n    feedbackcomplimenttest = feedbackcomplimentarray2.toString();\r\n    setComplimentCount(feedbackcomplimenttest)\r\n  })\r\n}\r\n\r\ngetcomplimentChart();\r\n\r\n//for complaint feedback\r\nconst feedbackcomplaintarray = [];\r\nconst feedbackcomplaintarray2 = [];\r\nlet feedbackcomplainttest;\r\nfunction getcomplaintChart(){\r\n  axios\r\n  .get(\"https://bchserver.herokuapp.com/api/v1/feedbackcomplaintchart\")\r\n  .then((response) => {\r\n    //console.log(response.data);\r\n    feedbackcomplaintarray.push(Object.keys(response.data))\r\n    feedbackcomplaintarray2.push(feedbackcomplaintarray[0].length)\r\n    feedbackcomplainttest = feedbackcomplaintarray2.toString();\r\n    setComplaintCount(feedbackcomplainttest)\r\n  })\r\n}\r\n\r\ngetcomplaintChart();\r\n\r\n\r\nconst customerfeedbackChart = {\r\n  data: {\r\n    labels: [\"Compliment\",\"Feedback\"]\r\n\r\n    \r\n    ,\r\n    series: [[complimentcount,complaintcount]]\r\n      \r\n    \r\n  },\r\n  options: {\r\n    axisY: {\r\n      onlyInteger:false,\r\n      showGrid:false,\r\n      offset:70\r\n    },\r\n    axisX: {\r\n      onlyInteger:true,\r\n    },\r\n    low:0,\r\n    high:10,\r\n    seriesBarDistance: 10,\r\n    reverseData: true,\r\n    horizontalBars: true,\r\n  },\r\n  responsiveOptions: [\r\n    [\r\n      \"screen and (max-width: 640px)\",\r\n      {\r\n        seriesBarDistance: 5,\r\n        axisX: {\r\n          labelInterpolationFnc: function(value) {\r\n            return value[0];\r\n            \r\n          }\r\n        }\r\n      }\r\n    ]\r\n  ],\r\n  animation: {\r\n    draw: function(data) {\r\n      if (data.type === \"bar\") {\r\n        data.element.animate({\r\n          opacity: {\r\n            begin: (data.index + 1) * delays2,\r\n            dur: durations2,\r\n            from: 0,\r\n            to: 1,\r\n            easing: \"ease\"\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n  const classes = useStyles();\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [modalShow2, setModalShow2] = React.useState(false);\r\n  const [modalShow3, setModalShow3] = React.useState(false);\r\n  return (\r\n    <div>\r\n       <GridContainer>\r\n        <GridItem xs={12} sm={12} md={6}>\r\n          <Card chart>\r\n            <CardHeader color=\"success\">\r\n              <ChartistGraph\r\n                className=\"ct-chart\"\r\n                data={newcasesChart.data}\r\n                type=\"Bar\"\r\n                options={newcasesChart.options}\r\n                responsiveOptions={newcasesChart.responsiveOptions}\r\n                listener={newcasesChart.animation}\r\n              />\r\n            </CardHeader>\r\n            <CardBody>\r\n              <h4 className={classes.cardTitle}>Cases Reported</h4>\r\n              <p className={classes.cardCategory}>Compare Cases Reported for Today and past 2 days</p>\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n        <GridItem xs={12} sm={12} md={6}>\r\n          <Card chart>\r\n            <CardHeader color=\"primary\">\r\n              <ChartistGraph\r\n                className=\"ct-chart\"\r\n                data={customerfeedbackChart.data}\r\n                type=\"Bar\"\r\n                responsiveOptions={customerfeedbackChart.responsiveOptions}\r\n                options={customerfeedbackChart.options}\r\n                listener={customerfeedbackChart.animation}\r\n              />\r\n            </CardHeader>\r\n            <CardBody>\r\n              <h4 className={classes.cardTitle}>Customer Feedback</h4>\r\n              <p className={classes.cardCategory}>Standard obtained through Customer Feedbacks Today</p>\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n      \r\n      <br></br>\r\n      \r\n      <GridContainer>\r\n      <GridItem xs={12} sm={12} md={4}>\r\n        <Button onClick={() => setModalShow(true)} fullWidth color=\"danger\">New Cases Reported</Button>\r\n        <NewCaseModal\r\n        show={modalShow}\r\n        onHide={() => setModalShow(false)}\r\n      />  \r\n      </GridItem>\r\n      <GridItem xs={12} sm={12} md={4}>\r\n        <Button  onClick={() => setModalShow2(true)} fullWidth color=\"warning\">Pending Cases</Button>\r\n        <PendingCaseModal\r\n        show={modalShow2}\r\n        onHide={() => setModalShow2(false)}\r\n      />\r\n      </GridItem>\r\n      <GridItem xs={12} sm={12} md={4}>\r\n        <Button onClick={() => setModalShow3(true)} fullWidth color=\"success\">Resolved Cases</Button> \r\n        <ResolvedCaseModal\r\n        show={modalShow3}\r\n        onHide={() => setModalShow3(false)}\r\n      />\r\n      </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}